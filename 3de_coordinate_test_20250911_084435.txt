
======================================================================
 3DE COORDINATE SYSTEM TEST
======================================================================

Test Date: 2025-09-11 08:44:35
Output File: c:\footage\Burger\3de_coordinate_test_20250911_084435.txt

Using camera: Burger
Image size: 1280 x 720
Using point group: pgroup#1

Creating test points at known positions...
  Created TEST_BottomLeft at (0.0, 0.0)
  Created TEST_BottomRight at (1280.0, 0.0)
  Created TEST_TopLeft at (0.0, 720.0)
  Created TEST_TopRight at (1280.0, 720.0)
  Created TEST_Center at (640.0, 360.0)
  Created TEST_Quarter at (320.0, 180.0)
  Created TEST_ThreeQuarter at (960.0, 540.0)

============================================================
COORDINATE CONVERSION TESTS
============================================================

Image dimensions: 1280 x 720

Testing coordinate conversions for frame 1:

TEST_BottomLeft:
  3DE coords (Y↑):     (   0.00,    0.00)
  Qt/Screen (Y↓):      (   0.00,  720.00)
  Normalized [0,1]:     ( 0.0000,  0.0000)
  Undistorted:          (   0.00,    0.00)

TEST_BottomRight:
  3DE coords (Y↑):     (   0.00,    0.00)
  Qt/Screen (Y↓):      (   0.00,  720.00)
  Normalized [0,1]:     ( 0.0000,  0.0000)
  Undistorted:          (   0.00,    0.00)

TEST_TopLeft:
  3DE coords (Y↑):     (   0.00,    0.00)
  Qt/Screen (Y↓):      (   0.00,  720.00)
  Normalized [0,1]:     ( 0.0000,  0.0000)
  Undistorted:          (   0.00,    0.00)

TEST_TopRight:
  3DE coords (Y↑):     (   0.00,    0.00)
  Qt/Screen (Y↓):      (   0.00,  720.00)
  Normalized [0,1]:     ( 0.0000,  0.0000)
  Undistorted:          (   0.00,    0.00)

TEST_Center:
  3DE coords (Y↑):     (   0.00,    0.00)
  Qt/Screen (Y↓):      (   0.00,  720.00)
  Normalized [0,1]:     ( 0.0000,  0.0000)
  Undistorted:          (   0.00,    0.00)

TEST_Quarter:
  3DE coords (Y↑):     (   0.00,    0.00)
  Qt/Screen (Y↓):      (   0.00,  720.00)
  Normalized [0,1]:     ( 0.0000,  0.0000)
  Undistorted:          (   0.00,    0.00)

TEST_ThreeQuarter:
  3DE coords (Y↑):     (   0.00,    0.00)
  Qt/Screen (Y↓):      (   0.00,  720.00)
  Normalized [0,1]:     ( 0.0000,  0.0000)
  Undistorted:          (   0.00,    0.00)

============================================================
MULTI-FRAME TRACKING TEST
============================================================

Creating animated tracking point over 37 frames
  Center: (640.0, 360.0)
  Radius: 180.0 pixels

  Sample positions (3DE coords):
    Frame  1: ( 820.00,  360.00)
    Frame  7: ( 730.00,  515.88)
    Frame 13: ( 550.00,  515.88)
    Frame 19: ( 460.00,  360.00)
    Frame 25: ( 550.00,  204.12)
    Frame 31: ( 730.00,  204.12)

============================================================
EXPORT FORMAT COMPARISON
============================================================

Format 1: 3DE Native (Y=0 at bottom)
----------------------------------------
     TEST_BottomLeft:    0.000    0.000
    TEST_BottomRight:    0.000    0.000
        TEST_TopLeft:    0.000    0.000

Format 2: Qt/Screen (Y=0 at top)
----------------------------------------
     TEST_BottomLeft:    0.000  720.000
    TEST_BottomRight:    0.000  720.000
        TEST_TopLeft:    0.000  720.000

Format 3: Normalized [0,1]
----------------------------------------
     TEST_BottomLeft: 0.000000 0.000000
    TEST_BottomRight: 0.000000 0.000000
        TEST_TopLeft: 0.000000 0.000000

Format 4: Custom 2DTrack Format
----------------------------------------
12
TEST_BottomLeft
0
0

============================================================
COORDINATE SPACE VISUALIZATION
============================================================

3DE Coordinate System (Y=0 at bottom):
  ┌─────────────────────────┐
  │ (0,h)          (w,h)    │ ← Y = height
  │   ↑              ↑      │
  │   │              │      │
  │   │    CENTER    │      │
  │   │   (w/2,h/2)  │      │
  │   │              │      │
  │   ↓              ↓      │
  │ (0,0)          (w,0)    │ ← Y = 0
  └─────────────────────────┘
    ↑                ↑
   X=0             X=width

Qt/Screen Coordinate System (Y=0 at top):
  ┌─────────────────────────┐
  │ (0,0)          (w,0)    │ ← Y = 0
  │   ↓              ↓      │
  │   │              │      │
  │   │    CENTER    │      │
  │   │   (w/2,h/2)  │      │
  │   │              │      │
  │   ↑              ↑      │
  │ (0,h)          (w,h)    │ ← Y = height
  └─────────────────────────┘
    ↑                ↑
   X=0             X=width

For image 1280x720:
  To convert 3DE→Qt: y_qt = 720 - y_3de
  To convert Qt→3DE: y_3de = 720 - y_qt

======================================================================
 TEST COMPLETE
======================================================================

Test points created. You can now:
  1. View them in the 3DE viewport
  2. Export using File → Export → 2D Tracking Data
  3. Run cleanup_test_points(cam, pg) to remove them
